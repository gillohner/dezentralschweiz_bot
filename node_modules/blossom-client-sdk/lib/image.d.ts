type GetServersMethod = (pubkey?: string) => Promise<(string | URL)[] | undefined> | undefined;
/**
 * attaches an "error" event listener to a HTMLImageElement element to handle server fallbacks
 * @param image The image element
 * @param getServers A async method to get an ordered list of servers for a pubkey
 * @param overridePubkey An optional pubkey to set the `data-pubkey` attr on the image
 * @returns returns a method to remove the "error" event listener
 */
export declare function handleImageFallbacks(image: HTMLImageElement, getServers: GetServersMethod, overridePubkey?: string): () => void;
/**
 * Watch for any broken <img> elements in the tree and attempt to fix them
 * @param root The root element to observe
 * @param getServers A method used to get a list of servers for a specific pubkey
 * @returns A MutationObserver that is observing the root element
 */
export declare function handleBrokenImages(root: HTMLElement, getServers: GetServersMethod): MutationObserver;
export {};
