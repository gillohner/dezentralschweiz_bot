import { ServerType, UploadType } from "../client.js";
import { BlobDescriptor, PaymentRequest, PaymentToken, SignedEvent } from "../types.js";
export type UploadOptions<S extends ServerType, B extends UploadType> = {
    /** AbortSignal to cancel the action */
    signal?: AbortSignal;
    /** Override authorization event, or true to always use authorization, false to disable authorization */
    auth?: SignedEvent | boolean;
    /** Request timeout */
    timeout?: number;
    /**
     * A method used to request payment when uploading or mirroring a blob
     * @param server the server requiring payment
     * @param sha256 the sha256 of the blob being uploaded or mirrored
     * @param blob the original blob
     * @param request the payment request
     */
    onPayment?: (server: S, sha256: string, blob: B, request: PaymentRequest) => Promise<PaymentToken>;
    /**
     * A method used to request a signed auth event for a server and sha256
     * @param server the server requesting the auth
     * @param sha256 the sha256 of the blob being upload or mirror to the server
     * @param blob the original blob passed to the method
     */
    onAuth?: (server: S, sha256: string, authType: "upload" | "media", blob: B) => Promise<SignedEvent>;
};
/** Upload a blob to a server, handles payment and auth */
export declare function uploadBlob<S extends ServerType, B extends UploadType>(server: S, blob: B, opts?: UploadOptions<S, B>): Promise<BlobDescriptor>;
